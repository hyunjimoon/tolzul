test_01_run_critique (__main__.TestWarGame.test_01_run_critique)
Run critique_spaceship.py and check exit code ... ok
test_02_verify_nuanced_critique (__main__.TestWarGame.test_02_verify_nuanced_critique)
Verify U and N get different critiques (Kim Agents) ... ok
test_03_run_dashboard (__main__.TestWarGame.test_03_run_dashboard)
Run visualize_spaceship.py and check exit code ... FAIL
test_04_verify_dashboard_content (__main__.TestWarGame.test_04_verify_dashboard_content)
Verify deputies, links, and responsiveness ... FAIL

======================================================================
FAIL: test_03_run_dashboard (__main__.TestWarGame.test_03_run_dashboard)
Run visualize_spaceship.py and check exit code
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/hyunjimoon/tolzul/Front/On/love(cs)/strategic_ambiguity/empirics/src/scripts/paper_generation/test_war_game.py", line 53, in test_03_run_dashboard
    self.assertEqual(result.returncode, 0, f"Dashboard script failed")
    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: 1 != 0 : Dashboard script failed

======================================================================
FAIL: test_04_verify_dashboard_content (__main__.TestWarGame.test_04_verify_dashboard_content)
Verify deputies, links, and responsiveness
----------------------------------------------------------------------
Traceback (most recent call last):
  File "/Users/hyunjimoon/tolzul/Front/On/love(cs)/strategic_ambiguity/empirics/src/scripts/paper_generation/test_war_game.py", line 74, in test_04_verify_dashboard_content
    self.assertIn('@media', content, "Media queries missing")
    ~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AssertionError: '@media' not found in '\n<!DOCTYPE html>\n<html lang="en">\n<head>\n    <meta charset="UTF-8">\n    <meta name="viewport" content="width=device-width, initial-scale=1.0">\n    <title>MFS Control Tower</title>\n    <style>\n        :root {\n            --bg-color: #0b0c15;\n            --jeong-green: #00ff9d;  /* Turtle Green */\n            --na-orange: #ffcc00;    /* Tiger Orange */\n            --verify-pink: #ff0099;\n            --glass-bg: rgba(20, 30, 40, 0.6);\n            --border-dim: rgba(255, 255, 255, 0.1);\n        }\n        \n        body {\n            background-color: var(--bg-color);\n            color: #fff;\n            font-family: \'Courier New\', monospace;\n            margin: 0;\n            height: 100vh;\n            display: flex;\n            flex-direction: column;\n            overflow: hidden;\n            background-image: linear-gradient(0deg, rgba(255,255,255,0.03) 1px, transparent 1px),\n                              linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px);\n            background-size: 50px 50px;\n        }\n\n        /* Header */\n        .header {\n            height: 60px;\n            display: flex;\n            align-items: center;\n            justify-content: space-between;\n            padding: 0 20px;\n            background: rgba(0,0,0,0.8);\n            border-bottom: 1px solid var(--border-dim);\n        }\n        .brand { font-size: 1.5rem; font-weight: bold; letter-spacing: 2px; color: #fff; }\n        .brand span { color: var(--jeong-green); }\n        \n        /* Main Grid */\n        .pantos-grid {\n            flex: 1;\n            display: grid;\n            grid-template-columns: 120px 1fr 1fr 1fr 1fr 100px; /* Label, I, T, E, D, Verify */\n            grid-template-rows: 40px 60px 1fr 1fr 1fr 60px 40px; /* JeongLabel, JeongAgents, U, C, N, NaAgents, KwonLabel */\n            gap: 5px;\n            padding: 10px;\n        }\n\n        /* Zones */\n        .zone-label {\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-weight: bold;\n            text-transform: uppercase;\n            font-size: 0.8rem;\n            letter-spacing: 1px;\n        }\n        .jeong-zone { background: rgba(0, 255, 157, 0.1); color: var(--jeong-green); border: 1px solid var(--jeong-green); }\n        .kwon-zone { background: rgba(255, 204, 0, 0.1); color: var(--na-orange); border: 1px solid var(--na-orange); }\n        \n        /* Agents */\n        .agent-card {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            background: rgba(255,255,255,0.05);\n            border: 1px solid var(--border-dim);\n            position: relative;\n        }\n        .jeong-agent { border-top: 2px solid var(--jeong-green); }\n        .na-agent { border-bottom: 2px solid var(--na-orange); }\n        \n        .agent-icon { font-size: 1.5rem; }\n        .agent-name { font-size: 0.8rem; margin-top: 2px; }\n        \n        .log-badge {\n            position: absolute;\n            top: 2px; right: 2px;\n            font-size: 0.7rem;\n            cursor: pointer;\n        }\n        .log-badge:hover { transform: scale(1.2); }\n\n        /* Project Rows */\n        .project-label {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            background: rgba(255,255,255,0.05);\n            border-left: 3px solid #fff;\n        }\n        .p-icon { font-size: 2rem; }\n        .p-name { font-size: 1.2rem; font-weight: bold; }\n        .p-desc { font-size: 0.6rem; color: #aaa; }\n\n        /* Matrix Cells */\n        .matrix-cell {\n            background: rgba(255,255,255,0.02);\n            border: 1px solid var(--border-dim);\n            padding: 8px;\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n            transition: all 0.2s;\n            cursor: pointer;\n        }\n        .matrix-cell:hover { background: rgba(255,255,255,0.08); border-color: #fff; }\n        .matrix-cell.active { border-color: #666; }\n        \n        .cell-title { font-size: 0.7rem; color: #888; }\n        .cell-dots { display: flex; gap: 2px; margin-top: 5px; }\n        .dot { width: 5px; height: 5px; border-radius: 50%; background: #333; }\n        .dot.filled { background: #fff; }\n\n        /* Verifier Column */\n        .verifier-cell {\n            display: flex;\n            flex-direction: column;\n            align-items: center;\n            justify-content: center;\n            background: rgba(255, 0, 153, 0.05);\n            border-right: 2px solid var(--verify-pink);\n        }\n        .v-icon { font-size: 1.5rem; }\n        .v-name { font-size: 0.7rem; color: var(--verify-pink); }\n\n        /* Server Status */\n        .server-status { font-size: 0.7rem; color: #666; display: flex; align-items: center; gap: 5px; }\n        .status-dot { width: 8px; height: 8px; border-radius: 50%; background: #444; }\n        .status-dot.online { background: var(--jeong-green); box-shadow: 0 0 5px var(--jeong-green); }\n\n    </style>\n</head>\n<body>\n    <div class="header">\n        <div class="brand">MFS <span>VIEW</span></div>\n        <div class="server-status">\n            <div class="status-dot" id="server-dot"></div>\n            <span id="server-text">Link Offline</span>\n        </div>\n    </div>\n\n    <div class="pantos-grid">\n        <!-- Row 1: Jeong Busa Label -->\n        <div class="zone-label jeong-zone" style="grid-column: 1 / -1;">Jeong Busa (Marketing Director)</div>\n\n        <!-- Row 2: Jeong Agents -->\n        <div class="zone-label">MOON</div>\n        \n        <div class="agent-card jeong-agent">\n            <div class="agent-icon">üê¢</div>\n            <div class="agent-name">J-Intro</div>\n            \n        </div>\n        \n        <div class="agent-card jeong-agent">\n            <div class="agent-icon">üê¢</div>\n            <div class="agent-name">J-Theory</div>\n            \n        </div>\n        \n        <div class="agent-card jeong-agent">\n            <div class="agent-icon">üê¢</div>\n            <div class="agent-name">J-Empirics</div>\n            \n        </div>\n        \n        <div class="agent-card jeong-agent">\n            <div class="agent-icon">üê¢</div>\n            <div class="agent-name">J-Discuss</div>\n            \n        </div>\n        \n        <div class="zone-label" style="font-size:0.6rem; color:#666;">VERIFY</div>\n\n        <!-- Rows 3-5: Projects U, C, N -->\n\n        <!-- Project Label -->\n        <div class="project-label">\n            <div class="p-icon">‚úåÔ∏è</div>\n            <div class="p-name">U</div>\n            <div class="p-desc">U: U-Shaped</div>\n        </div>\n\n        <!-- Matrix Cells -->\n        \n            <div class="matrix-cell active" onclick="openFile(\'/Users/hyunjimoon/tolzul/Front/On/love(cs)/strategic_ambiguity/empirics/src/scripts/paper_generation/output/chap1_U_introduction.md\')">\n                <div class="risk-indicator risk-1"></div>\n                <div class="cell-title">chap1_U_introduction</div>\n                <div class="cell-metrics">\n                    <span>16/7 ¬∂</span>\n                </div>\n                <div class="cell-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div>\n            </div>\n            \n            <div class="matrix-cell active" onclick="openFile(\'/Users/hyunjimoon/tolzul/Front/On/love(cs)/strategic_ambiguity/empirics/src/scripts/paper_generation/output/chap2_U_theory.md\')">\n                <div class="risk-indicator risk-1"></div>\n                <div class="cell-title">chap2_U_theory</div>\n                <div class="cell-metrics">\n                    <span>30/9 ¬∂</span>\n                </div>\n                <div class="cell-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div>\n            </div>\n            \n            <div class="matrix-cell active" onclick="openFile(\'/Users/hyunjimoon/tolzul/Front/On/love(cs)/strategic_ambiguity/empirics/src/scripts/paper_generation/output/chap3_U_empirics.md\')">\n                <div class="risk-indicator risk-1"></div>\n                <div class="cell-title">chap3_U_empirics</div>\n                <div class="cell-metrics">\n                    <span>11/11 ¬∂</span>\n                </div>\n                <div class="cell-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div>\n            </div>\n            \n            <div class="matrix-cell active" onclick="openFile(\'/Users/hyunjimoon/tolzul/Front/On/love(cs)/strategic_ambiguity/empirics/src/scripts/paper_generation/output/chap4_U_discussion.md\')">\n                <div class="risk-indicator risk-1"></div>\n                <div class="cell-title">chap4_U_discussion</div>\n                <div class="cell-metrics">\n                    <span>39/5 ¬∂</span>\n                </div>\n                <div class="cell-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div>\n            </div>\n            \n\n        <!-- Verifier -->\n        <div class="verifier-cell">\n            <div class="v-icon">üêô</div>\n            <div class="v-name">K-Ushape</div>\n            <div class="v-role" style="font-size: 0.7em; color: #aaa; margin-top: 4px;">Innovation, Scaling, Relevance</div>\n        </div>\n        \n        <!-- Project Label -->\n        <div class="project-label">\n            <div class="p-icon">ü¶æ</div>\n            <div class="p-name">C</div>\n            <div class="p-desc">C: Commitment</div>\n        </div>\n\n        <!-- Matrix Cells -->\n        <div class="matrix-cell empty-cell"></div>\n            <div class="matrix-cell active" onclick="openFile(\'/Users/hyunjimoon/tolzul/Front/On/love(cs)/strategic_ambiguity/empirics/src/scripts/paper_generation/output/chap2_C_theory.md\')">\n                <div class="risk-indicator risk-1"></div>\n                <div class="cell-title">chap2_C_theory</div>\n                <div class="cell-metrics">\n                    <span>24/9 ¬∂</span>\n                </div>\n                <div class="cell-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div>\n            </div>\n            \n            <div class="matrix-cell active" onclick="openFile(\'/Users/hyunjimoon/tolzul/Front/On/love(cs)/strategic_ambiguity/empirics/src/scripts/paper_generation/output/chap3_C_empirics.md\')">\n                <div class="risk-indicator risk-2"></div>\n                <div class="cell-title">chap3_C_empirics</div>\n                <div class="cell-metrics">\n                    <span>11/11 ¬∂</span>\n                </div>\n                <div class="cell-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div>\n            </div>\n            <div class="matrix-cell empty-cell"></div>\n\n        <!-- Verifier -->\n        <div class="verifier-cell">\n            <div class="v-icon">üêô</div>\n            <div class="v-name">K-Commit</div>\n            <div class="v-role" style="font-size: 0.7em; color: #aaa; margin-top: 4px;">Advantage, Performance, Mechanism</div>\n        </div>\n        \n        <!-- Project Label -->\n        <div class="project-label">\n            <div class="p-icon">ü§π</div>\n            <div class="p-name">N</div>\n            <div class="p-desc">N: Newsvendor</div>\n        </div>\n\n        <!-- Matrix Cells -->\n        <div class="matrix-cell empty-cell"></div><div class="matrix-cell empty-cell"></div>\n            <div class="matrix-cell active" onclick="openFile(\'/Users/hyunjimoon/tolzul/Front/On/love(cs)/strategic_ambiguity/empirics/src/scripts/paper_generation/output/chap3_N_empirics.md\')">\n                <div class="risk-indicator risk-1"></div>\n                <div class="cell-title">chap3_N_empirics</div>\n                <div class="cell-metrics">\n                    <span>11/11 ¬∂</span>\n                </div>\n                <div class="cell-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div>\n            </div>\n            \n            <div class="matrix-cell active" onclick="openFile(\'/Users/hyunjimoon/tolzul/Front/On/love(cs)/strategic_ambiguity/empirics/src/scripts/paper_generation/output/chap4_N_discussion.md\')">\n                <div class="risk-indicator risk-1"></div>\n                <div class="cell-title">chap4_N_discussion</div>\n                <div class="cell-metrics">\n                    <span>37/5 ¬∂</span>\n                </div>\n                <div class="cell-dots"><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div><div class="dot filled"></div></div>\n            </div>\n            \n\n        <!-- Verifier -->\n        <div class="verifier-cell">\n            <div class="v-icon">üêô</div>\n            <div class="v-name">K-News</div>\n            <div class="v-role" style="font-size: 0.7em; color: #aaa; margin-top: 4px;">Efficiency, Rigor, Model</div>\n        </div>\n        \n        <!-- Row 6: Na Agents -->\n        <div class="zone-label"></div>\n        \n        <div class="agent-card na-agent">\n            <div class="agent-icon">üêÖ</div>\n            <div class="agent-name">N-Intro</div>\n            \n        </div>\n        \n        <div class="agent-card na-agent">\n            <div class="agent-icon">üêÖ</div>\n            <div class="agent-name">N-Theory</div>\n            <div class="log-badge" onclick="openFile(\'/Users/hyunjimoon/tolzul/Front/On/love(cs)/thesis_v2/üìùproduct/eval(üìùchap1234).md\')">üìù</div>\n        </div>\n        \n        <div class="agent-card na-agent">\n            <div class="agent-icon">üêÖ</div>\n            <div class="agent-name">N-Empirics</div>\n            <div class="log-badge" onclick="openFile(\'/Users/hyunjimoon/tolzul/Front/On/love(cs)/thesis_v2/üìùproduct/eval(‚öôÔ∏èchap1234).md\')">‚öôÔ∏è</div>\n        </div>\n        \n        <div class="agent-card na-agent">\n            <div class="agent-icon">üêÖ</div>\n            <div class="agent-name">N-Discuss</div>\n            \n        </div>\n        \n        <!-- Row 7: Kwon Busa Label -->\n        <div class="zone-label kwon-zone" style="grid-column: 1 / -1;">Kwon Busa (Manufacturing Director)</div>\n    </div>\n\n    <script>\n        function openFile(path) {\n            if (!path || path === \'None\') return;\n            fetch(`/open?file=${encodeURIComponent(path)}`)\n                .then(r => console.log("Opened", path))\n                .catch(e => console.error(e));\n        }\n\n        setInterval(() => {\n            fetch(\'/\').then(r => {\n                if(r.ok) {\n                    document.getElementById(\'server-dot\').classList.add(\'online\');\n                    document.getElementById(\'server-text\').innerText = "Link Online";\n                    document.getElementById(\'server-text\').style.color = "var(--jeong-green)";\n                }\n            }).catch(() => {\n                document.getElementById(\'server-dot\').classList.remove(\'online\');\n                document.getElementById(\'server-text\').innerText = "Link Offline";\n                document.getElementById(\'server-text\').style.color = "#666";\n            });\n        }, 5000);\n        \n        // Initial check\n        fetch(\'/\').then(r => {\n            if(r.ok) {\n                document.getElementById(\'server-dot\').classList.add(\'online\');\n                document.getElementById(\'server-text\').innerText = "Link Online";\n                document.getElementById(\'server-text\').style.color = "var(--jeong-green)";\n            }\n        });\n    </script>\n</body>\n</html>\n    ' : Media queries missing

----------------------------------------------------------------------
Ran 4 tests in 0.112s

FAILED (failures=2)

üöÄ Running Critique Spaceship...
‚úÖ Verified nuanced critique logic (Kim U vs Kim N)
üé® Running Dashboard Generator...
  File "/Users/hyunjimoon/tolzul/Front/On/love(cs)/strategic_ambiguity/empirics/src/scripts/paper_generation/visualize_spaceship.py", line 440
    grid-template-columns: 1fr;
                           ^
SyntaxError: invalid decimal literal

