

| Criterion                                                                                                        | Important Code                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | meaning                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
| ---------------------------------------------------------------------------------------------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| Problem 1a                                                                                                       | `var dist = Infer({method:'enumerate'}, model)`<br>`print("P(Fair=True\| Flip1=Tails, Flip2=Tails) = " + Math.exp(dist.score(true)))`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Problem 1b                                                                                                       | `var dist = Infer({method:'enumerate'}, makeModel(function(fair, flip1, flip2) {`<br>`condition(flip1 != flip2)`<br>`fair`<br>`}))`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Problem 1c                                                                                                       | `var dist= Infer({method:'enumerate'}, makeModel(function(fair, flips) {`<br>`condition(flips(1) == 'T' && flips(2) == 'T' && flips(3) == 'T' && flips(4) == 'T')`<br>`flips(5)`<br>`}))`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Problem 2a <br>P(Studies \| passed) =0.67                                                                        | `var dist = Infer({method:'enumerate'}, makeModel(function(studier, examEasy, pass) {`<br>`condition(pass("student", "exam"))`<br>`studier("student")`<br>`}))`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | infer agent's state given interaction's state (function of agent and world i.e. passing exam)                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Problem 2a <br>P(Hard \| passed and studied) = 0.16                                                              | `var dist = Infer({method:'enumerate'}, makeModel(function(studier, examEasy, pass) {`<br>`condition(pass("student", "exam"))`<br>`condition(studier("student"))`<br>`!examEasy("exam")`<br>`}))`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | infer world's state, given the state of agent and interaction                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
| Problem 2b <br>- P(S1 studies\|S1 failed E1 and E2) =.02<br><br><br><br>-  P(E1 is easy∣S1 failed E1 and E2) =.7 | var dist = Infer({method:'enumerate'}, makeModel(function(studier, examEasy, pass) {<br>  condition(!pass("student", "exam1"))🧍‍♀️↔️🌏<br>  condition(!pass("student", "exam2"))🧍‍♀️↔️🌏<br>  <br>  return {studentStudied:studier("student"), exam1Easy:examEasy("exam1")}<br>}))<br><br>var pStudied = (Math.exp(dist.score({"studentStudied":true,"exam1Easy":true}))<br>                + Math.exp(dist.score({"studentStudied":true,"exam1Easy":false})))🧍‍♀️<br><br>var pExam1Easy = (Math.exp(dist.score({"studentStudied":true,"exam1Easy":true}))<br>                + Math.exp(dist.score({"studentStudied":false,"exam1Easy":true})))🌏                                                                                                                                                             | <br><br><br><br><br><br>infer current 🧍‍♀️agent's state, given previous 🧍‍♀️↔️🌏interaction states by marginalizing out the 🌏world state (easy, hard)<br><br><br>infer current 🌏world's state, given previous🧍‍♀️↔️🌏interaction states by marginalizing out the 🧍‍♀️agent state (study, nostudy)                                                                                                                                                                                                              |
| Problem 2c <br><br>🧍‍♀️P(S1 studied \| S1, S2, S3 failed both exams) = 0.04                                     | var dist = Infer({method:'enumerate'}, makeModel(function(studier, examEasy, pass) {<br>  condition(!pass("student1", "exam1")) 🧍‍♀️↔️🌏<br>  condition(!pass("student1", "exam2"))🧍‍♀️↔️🌏<br>  <br>  condition(!pass("student2", "exam1"))🧍‍♂️↔️🌏<br>  condition(!pass("student2", "exam2"))🧍‍♂️↔️🌏<br>  <br>  condition(!pass("student3", "exam1"))🧍‍♀️↔️🌏<br>  condition(!pass("student3", "exam2"))🧍‍♀️↔️🌏<br>  <br>  return {studentStudier:studier("student1"), exam1Easy:examEasy("exam1")}<br>}))                                                                                                                                                                                                                                                                                              | infering agent1's state, given state of self's past interaction and the others'(agent2,3) interaction                                                                                                                                                                                                                                                                                                                                                                                                                |
| Problem 2c <br><br>🌏P(E1 is Easy \| S1, S2, S3 failed E1 and E2) = .462                                         | (Same code as above)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | infer state of the world, given observation on three interactions of agents and world                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Problem 2c (Explanation for changes)                                                                             | N/A (Explanation provided in text)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | from (b), the probability of student who failed both exams drops (from .5 to .02) as it is likely the test is easy so the only explanation that for repeated fail is if this student hasn't studied. however, this probability rises a littles in (c) (from .02 to .04) upon additional observation of sequential failures by other students. Rejecting easy exam sample more often (compared to only one student failing twice), has the effect of lowering the expectation of hyperprior: indicator for easy exam. |
| Problem 2d <br><br>🌏P(E1 is Easy \| S1, S2, S3 failed exams 1, 2; S2, S3 failed exams 3, 4)=.474                | `var dist = Infer({method:'enumerate'}, makeModel(function(studier, examEasy, pass) {`<br>`condition(!pass("student1", "exam1"))`<br>`condition(!pass("student1", "exam2"))`<br>`condition(!pass("student2", "exam1"))`<br>`condition(!pass("student2", "exam2"))`<br>`condition(!pass("student2", "exam3"))`<br>`condition(!pass("student2", "exam4"))`<br>`condition(!pass("student3", "exam1"))`<br>`condition(!pass("student4", "exam2"))`<br>`condition(!pass("student3", "exam3"))`<br>`condition(!pass("student4", "exam4"))`<br>`return {studentStudier:studier("student1"), exam1Easy:examEasy("exam1")}`<br>`}))`                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Problem 2d <br><br>🧍‍♀️P(S1 studied\| S1, S2, S3 failed exams 1, 2; S2, S3 failed exams 3, 4)=.04               | (Same code as above)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Problem 2d (Explanation for changes)                                                                             | N/A (Explanation provided in text)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | With additional observation on students and exam interaction, how does inference on each state changes. Compared with (c), environment state P(E1 easy) increases little .46 to.47 as the continued failure of S23 shifts main cause of failure from the difficulty of exam to students not studying. Agent's state P(S1 studied) didn't change much as new observation is only about S23 (not S1). Information flows, but it's too far to make meaningful change.                                                   |
| Problem 2e <br><br>P(E1 is Easy \| S2, S3 failed all; S1 passed E3 and E4) = 0.47                                | var dist = Infer({method:'enumerate'}, makeModel(function(studied, examEasy, pass) {<br>  condition(!pass("student1", "exam1"))<br>  condition(!pass("student1", "exam2"))<br>  <br>  condition(!pass("student2", "exam1"))<br>  condition(!pass("student2", "exam2"))<br>  condition(!pass("student2", "exam3"))<br>  condition(!pass("student2", "exam4"))<br>  <br>  condition(!pass("student3", "exam1"))<br>  condition(!pass("student4", "exam2"))<br>  condition(!pass("student3", "exam3"))<br>  condition(!pass("student4", "exam4"))<br>  <br>  return {studentStudied:studied("student1"), exam1Easy:examEasy("exam1")}<br>}))                                                                                                                                                                         |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Problem 2e (P(S1 is a studier \| S2, S3 failed all; S1 passed E3 and E4)) = .042                                 | var pStudied = (Math.exp(dist.score({"studentStudied":true,"exam1Easy":true}))<br>                + Math.exp(dist.score({"studentStudied":true,"exam1Easy":false})))                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Problem 2e (Explanation for changes) 🌏0.438, 🧍‍♀️0.18                                                          | N/A (Explanation provided in text)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | Surprisingly observation on passing the test gives more credit to students studying, dramatically increasing P(S1 studied) from .042 to .18 P(S1 studies). This increase has two sources: 1) direct effect from S1 passing E34 and, 2) knowing S23 implying E34 might be hard.<br>This affects decrease in P(E1 easy) as knowing S1 failed E1, increase of the probability of S1 studying decreases the probability of E1 easy.![[export.txt]]![[export 1.txt]]                                                      |
| Problem 2f (Human subject answer for b-e)                                                                        | N/A (Human subject responses provided in text)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Problem 2g (b-e with new priors)                                                                                 | `var makeModel = function(f) {return function() {`<br>`var studier = mem(function(person) { `<br>`flip(0.1)`<br>`})`<br>`var examEasy = mem(function(exam) {`<br>`flip(0.5)`<br>`})`                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |
| Problem 2h (P(Professor is lenient \| ...))                                                                      | var pass = function(student, exam, prof, course){ return flip(examEasy(exam, prof) ? // Added prof parameter (studied(student, course) ? .95 : .5) : // Added course parameter (studied(student, course) ? .75 : .2)) }                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | exam difficulty (env.state) is translated to agent state (lenient) + class difficulty is added                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Problem 2i (Student extension)                                                                                   | var makeModel = function(f) {return function() {<br>  <br>  //Is the exam easy?<br>  var examEasy = mem(function(exam) {<br>    flip(0.5)<br>  })<br><br>  //How good is the student?<br>  var goodStudent = mem(function(student){<br>    sample(Uniform({a:0,b:5}))<br>  })<br>  <br>  //How prepared do they feel for the exam? <br>  var preparedness = mem(function(student, exam){<br>    var beta = 5 - goodStudent(student)<br>    sample(Beta({a:5, b:beta}))<br>  })<br>    <br>  //Did they pass? <br>  var pass = function(student, exam){<br>    return flip(examEasy(exam) ?<br>                  (flip(preparedness(student, exam)) ? 0.9 : 0.6) : <br>                  (flip(preparedness(student, exam)) ? 0.7 : 0.2))<br>  }<br>  <br>  f(examEasy, goodStudent, preparedness, pass)<br>}}<br> | ![[Pasted image 20241022000532.png\|200]]                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
|                                                                                                                  |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | ![[Pasted image 20241021220719.png]]                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |

code in [[export.txt]]